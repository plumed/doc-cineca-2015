<!-- HTML header for doxygen 1.8.3.1-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta name="robots" content="noindex">
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.7"/>
<title>PLUMED: driver</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script><script src="http://cdn.mathjax.org/mathjax/latest/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table align="center" frame="void" width="98%" cellpadding="2%">
<tbody>
<tr style="height: 30px;">
<td valign="center"> &nbsp; <img src="pigeon.png" width="120"/></td>
<td style="padding-left: 0.2em;" width="74%"> <a href="http://www.plumed-code.org"> <img src="logo.png" width="400" /> </td>
<td style="padding-left: 0.2em;" align="right"> <a href="../../developer-doc/html/index.html"> <img src="user-logo.png" width="180" /> </a> </td>
</tr>
</tbody>
</table>
<!--
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">PLUMED
   &#160;<span id="projectnumber">2.3.0-dev</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
-->
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.7 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Home&#160;(cineca-2015)</span></a></li>
      <li><a href="_syntax.html"><span>Getting&#160;started</span></a></li>
      <li><a href="tutorials.html"><span>Tutorials</span></a></li>
      <li><a href="glossary.html"><span>Index&#160;of&#160;Actions</span></a></li>
      <li><a href="cineca.html"><span>Cineca</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('driver.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">driver </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><table  align="center" frame="void" width="95%%" celpadding="5%%">
<tr>
<td width="70%%"></td><td><b> This is part of the cltools <a class="el" href="mymodules.html">module </a></b>   </td></tr>
</table>
<p>driver is a tool that allows one to to use plumed to post-process an existing trajectory.</p>
<p>The input to driver is specified using the command line arguments described below.</p>
<p>In addition, you can use the special <a class="el" href="_r_e_a_d.html">READ</a> command inside your plumed input to read in colvar files that were generated during your MD simulation. The values read in can then be treated like calculated colvars.</p>
<dl class="section warning"><dt>Warning</dt><dd>Notice that by default the driver has no knowledge about the masses and charges of your atoms! Thus, if you want to compute quantities depending charges (e.g. <a class="el" href="_d_h_e_n_e_r_g_y.html">DHENERGY</a>) or masses (e.g. <a class="el" href="_c_o_m.html">COM</a>) you should pass the proper information to the driver. You can do it either with the &ndash;pdb option or with the &ndash;mc option. The latter will read a file produced by <a class="el" href="_d_u_m_p_m_a_s_s_c_h_a_r_g_e.html">DUMPMASSCHARGE</a> .</dd></dl>
<dl class="section user"><dt>The input trajectory is specified using one of the following</dt><dd></dd></dl>
<table  align="center" frame="void" width="95%%" cellpadding="5%%">
<tr>
<td width="15%"><b> <code>--ixyz</code> </b> </td><td>the trajectory in xyz format   </td></tr>
<tr>
<td width="15%"><b> <code>--igro</code> </b> </td><td>the trajectory in gro format   </td></tr>
<tr>
<td width="15%"><b> <code>--ixtc</code> </b> </td><td>the trajectory in xtc format (xdrfile implementation)   </td></tr>
<tr>
<td width="15%"><b> <code>--itrr</code> </b> </td><td>the trajectory in trr format (xdrfile implementation)   </td></tr>
<tr>
<td width="15%"><b> <code>--mf_dcd</code> </b> </td><td>molfile: the trajectory in dcd format   </td></tr>
<tr>
<td width="15%"><b> <code>--mf_crd</code> </b> </td><td>molfile: the trajectory in crd format   </td></tr>
<tr>
<td width="15%"><b> <code>--mf_crdbox</code> </b> </td><td>molfile: the trajectory in crdbox format   </td></tr>
<tr>
<td width="15%"><b> <code>--mf_gro</code> </b> </td><td>molfile: the trajectory in gro format   </td></tr>
<tr>
<td width="15%"><b> <code>--mf_g96</code> </b> </td><td>molfile: the trajectory in g96 format   </td></tr>
<tr>
<td width="15%"><b> <code>--mf_trr</code> </b> </td><td>molfile: the trajectory in trr format   </td></tr>
<tr>
<td width="15%"><b> <code>--mf_trj</code> </b> </td><td>molfile: the trajectory in trj format   </td></tr>
<tr>
<td width="15%"><b> <code>--mf_xtc</code> </b> </td><td>molfile: the trajectory in xtc format   </td></tr>
<tr>
<td width="15%"><b> <code>--mf_pdb</code> </b> </td><td>molfile: the trajectory in pdb format   </td></tr>
</table>
<dl class="section user"><dt>The following must be present</dt><dd></dd></dl>
<table  align="center" frame="void" width="95%%" cellpadding="5%%">
<tr>
<td width="15%"><b> <code>--plumed</code> </b> </td><td>( default=plumed.dat ) specify the name of the plumed input file   </td></tr>
<tr>
<td width="15%"><b> <code>--timestep</code> </b> </td><td>( default=1.0 ) the timestep that was used in the calculation that produced this trajectory in picoseconds   </td></tr>
<tr>
<td width="15%"><b> <code>--trajectory-stride</code> </b> </td><td>( default=1 ) the frequency with which frames were output to this trajectory during the simulation   </td></tr>
<tr>
<td width="15%"><b> <code>--multi</code> </b> </td><td>( default=0 ) set number of replicas for multi environment (needs mpi)   </td></tr>
</table>
<dl class="section user"><dt>The following options are available</dt><dd></dd></dl>
<table  align="center" frame="void" width="95%%" cellpadding="5%%">
<tr>
<td width="15%"><b> <code>--help/-h</code> </b> </td><td>( default=off ) print this help   </td></tr>
<tr>
<td width="15%"><b> <code>--help-debug</code> </b> </td><td>( default=off ) print special options that can be used to create regtests   </td></tr>
<tr>
<td width="15%"><b> <code>--noatoms</code> </b> </td><td>( default=off ) don't read in a trajectory. Just use colvar files as specified in plumed.dat   </td></tr>
<tr>
<td width="15%"><b> <code>--dump-full-virial</code> </b> </td><td><p class="starttd">( default=off ) with &ndash;dump-forces, it dumps the 9 components of the virial  </p>
<p class="endtd"></p>
</td></tr>
</table>
<table  align="center" frame="void" width="95%%" cellpadding="5%%">
<tr>
<td width="15%"><b> <code>--length-units</code> </b> </td><td>units for length, either as a string or a number   </td></tr>
<tr>
<td width="15%"><b> <code>--dump-forces</code> </b> </td><td>dump the forces on a file   </td></tr>
<tr>
<td width="15%"><b> <code>--dump-forces-fmt</code> </b> </td><td>( default=%f ) the format to use to dump the forces   </td></tr>
<tr>
<td width="15%"><b> <code>--pdb</code> </b> </td><td>provides a pdb with masses and charges   </td></tr>
<tr>
<td width="15%"><b> <code>--mc</code> </b> </td><td>provides a file with masses and charges as produced with DUMPMASSCHARGE   </td></tr>
<tr>
<td width="15%"><b> <code>--box</code> </b> </td><td>comma-separated box dimensions (3 for orthorombic, 9 for generic)   </td></tr>
<tr>
<td width="15%"><b> <code>--natoms</code> </b> </td><td><p class="starttd">provides number of atoms - only used if file format does not contain number of atoms  </p>
<p class="endtd"></p>
</td></tr>
</table>
<dl class="section user"><dt>Examples</dt><dd></dd></dl>
<p>The following command tells plumed to postprocess the trajectory contained in trajectory.xyz by performing the actions described in the input file plumed.dat. If an action that takes the stride keyword is given a stride equal to \(n\) then it will be performed only on every \(n\)th frame in the trajectory file. </p><pre class="fragment">plumed driver --plumed plumed.dat --ixyz trajectory.xyz
</pre><p>The following command tells plumed to postprocess the trajectory contained in trajectory.xyz. by performing the actions described in the input file plumed.dat. Here though &ndash;trajectory-stride is set equal to the frequency with which frames were output during the trajectory and the &ndash;timestep is equal to the simulation timestep. As such the STRIDE parameters in the plumed.dat files are no longer ignored and any files output resemble those that would have been generated had we run the calculation we are running with driver when the MD simulation was running. </p><pre class="fragment">plumed driver --plumed plumed.dat --ixyz trajectory.xyz --trajectory-stride 100 --timestep 0.001
</pre><p>By default you have access to a subset of the trajectory file formats supported by VMD, e.g. xtc and dcd:</p>
<pre class="fragment">plumed driver --plumed plumed.dat --pdb diala.pdb --mf_xtc traj.xtc --trajectory-stride 100 --timestep 0.001
</pre><p>where &ndash;mf_ prefixes the extension of one of the accepted molfile plugin format.</p>
<p>To have support of all of VMD's plugins you need to recompile PLUMED. You need to download the SOURCE of VMD, which contains a plugins directory. Adapt build.sh and compile it. At the end, you should get the molfile plugins compiled as a static library libmolfile_plugin.a. Locate said file and libmolfile_plugin.h, and customize the configure command with something along the lines of:</p>
<pre class="fragment">configure [...] LDFLAGS="-ltcl8.5 -L/mypathtomolfilelibrary/ -L/mypathtotcl" CPPFLAGS="-I/mypathtolibmolfile_plugin.h/"
</pre><p>and rebuild.</p>
<p>Molfile plugin require periodic cell to be triangular (i.e. first vector oriented along x and second vector in xy plane). This is true for many MD codes. However, it could be false if you rotate the coordinates in your trajectory before reading them in the driver. Also notice that some formats (e.g. amber crd) do not specify atom number. In this case you can use the <code>--natoms</code> option: </p><pre class="fragment">plumed driver --plumed plumed.dat --imf_crd trajectory.crd --natoms 128
</pre><p>Check the available molfile plugins and limitations at <a href="http://www.ks.uiuc.edu/Research/vmd/plugins/molfile/">http://www.ks.uiuc.edu/Research/vmd/plugins/molfile/</a>.</p>
<p>Additionally, you can use the xdrfile implementation of xtc and trr. To this aim, just download and install properly the xdrfile library (see here: <a href="http://www.gromacs.org/Developer_Zone/Programming_Guide/XTC_Library">http://www.gromacs.org/Developer_Zone/Programming_Guide/XTC_Library</a>). If the xdrfile library is installed properly the PLUMED configure script should be able to detect it and enable it. Notice that the xdrfile implementation of xtc and trr is more robust than the molfile one, since it provides support for generic cell shapes. </p>
</div></div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.8.3.1-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
<!--    <li class="navelem"><a class="el" href="tools.html">Command Line Tools</a></li>  -->
    <li class="footer">   <!--- Generated by -->
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.7 </li>
  </ul>
</div>
</body>
</html>
