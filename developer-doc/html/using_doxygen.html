<!-- HTML header for doxygen 1.8.3.1-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta name="robots" content="noindex">
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.7"/>
<title>PLUMED: Creating plumed documentation</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script><script src="http://cdn.mathjax.org/mathjax/latest/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table align="center" frame="void" width="98%" cellpadding="2%">
<tbody>
<tr style="height: 30px;">
<td valign="center"> &nbsp; <img src="pigeon.png" width="120"/></td>
<td style="padding-left: 0.2em;" width="74%"> <a href="http://www.plumed-code.org"> <img src="logo.png" width="400" /> </td>
<td style="padding-left: 0.2em;" align="right"> <a href="../../user-doc/html/index.html"> <img src="developer-logo.png" width="180" /> </a> </td>
</tr>
</tbody>
</table>
<!--
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">PLUMED
   &#160;<span id="projectnumber">2.3</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
-->
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.7 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(11)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(12)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">Creating plumed documentation </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><b> Whenever you make a change to the documentation for PLUMED and you want the online version of the manual to be updated, you need to write include the phrase [makedoc] in your next commit message.</b></p>
<p><b> Doing so ensures that the online manuals are updated the next time you push your commits to master. See more in the section <a class="el" href="using_doxygen.html#updating-web-manuals">Updating web manuals</a> </b></p>
<p>To create the plumed manual you should go to the <b> user-doc </b> directory and type <b> make </b>. This command works because user documentation for all the <a class="el" href="class_p_l_m_d_1_1_action.html" title="Base class for all the input Actions. ">PLMD::Action</a> is inside the source code. If you look at the documentation page for any of the actions that are implemented in plumed you will see that it is composed of three pars:</p>
<ul>
<li>A short introduction which describes what the method does.</li>
<li>A description of the various keywords for the calculation.</li>
<li>An example/some examples of how the <a class="el" href="class_p_l_m_d_1_1_action.html" title="Base class for all the input Actions. ">PLMD::Action</a> can be used.</li>
</ul>
<p>Furthermore, you will also have noticed that if you make an error in the input for any <a class="el" href="class_p_l_m_d_1_1_action.html" title="Base class for all the input Actions. ">PLMD::Action</a> the descriptions of all the keywords from the manual appears in the log file. This is possible because manual pages for <a class="el" href="class_p_l_m_d_1_1_action.html" title="Base class for all the input Actions. ">PLMD::Action</a> are inside the code and because the manual is created using the following packages:</p>
<ul>
<li>Doxygen: <a href="http://www.doxygen.org">http://www.doxygen.org</a></li>
<li>Graphviz: <a href="http://www.graphviz.org/">http://www.graphviz.org/</a></li>
</ul>
<p>In addition a special class, <a class="el" href="class_p_l_m_d_1_1_keywords.html" title="This class holds the keywords and their documentation. ">PLMD::Keywords</a>, is used to store the descriptions of the syntax for any given action so that this data can be produced in the output when the user makes a mistake in input. In the following a step-by-step explanaition as to how to use the documentation prodcuing functionality of plumed is provided. When you have finished creating your new documentation they should be incorporated automatically in the manual the next time you make the manual. Furthermore, a number of checks of your manual are performed when you make the manual so any errors should be straightforward to find.</p>
<p>The plumed manual does not only contain descriptions of the various actions that have been implemented and their keywords. There are also pages that place these actions in context and which attempt to explain the interplay between colvars, functions, biases, analysis methods and so on. More importantly, the plumed manual contains instructive examples that explain to users how to use particular features of the code. We would encourage all users of the code to submit these sort of things to the plumed repository particularly if they have found it difficult to start using a particular method. Instructions as to how to go about writing a material that will appear in the How-tos section of the manual can be found <a class="el" href="using_doxygen.html#tutorials">Writing how-to instructions</a> here</p>
<h1><a class="anchor" id="registerkeys"></a>
Registering Keywords</h1>
<p>When you implement any new <a class="el" href="class_p_l_m_d_1_1_action.html" title="Base class for all the input Actions. ">PLMD::Action</a> in plumed you must first create the documentation for the keywords that you will use to read the input for your new method. In fact you cannot read in undocumented keywords using plumed. The documentation for keywords is created in a static method of the action called registerKeywords. This method should be declared in the definition of the class as follows:</p>
<pre class="fragment">static void registerKeywords(Keywords&amp; keys);
</pre><p>The static atribute allows one to use the registerKeywords routine when no instances of the class have been created. This is essential as keywordRegistration in plumed is done before the list of <a class="el" href="class_p_l_m_d_1_1_action.html" title="Base class for all the input Actions. ">PLMD::Action</a> is created. This means that when the keywords are created plumed has no understanding of the hierachy of inherited Actions. Hence, before adding your own Keywords you must ensure that the keywords for the class from which your new class inherits have been added. In pracise this is done by calling <a class="el" href="class_p_l_m_d_1_1_colvar.html#a2c83483dd966f7c44edbc35f46919645">PLMD::Colvar::registerKeywords</a>, <a class="el" href="class_p_l_m_d_1_1function_1_1_function.html#a6b849f0185ccfc1308bd44e3215367d5">PLMD::function::Function::registerKeywords</a> or PLMD::Bias::registerKeywords for a new <a class="el" href="class_p_l_m_d_1_1_colvar.html" title="This is the abstract base class to use for implementing new collective variables, within it there is ...">PLMD::Colvar</a>, <a class="el" href="class_p_l_m_d_1_1function_1_1_function.html" title="This is the abstract base class to use for implementing new CV function, within it there is informati...">PLMD::function::Function</a> or <a class="el" href="class_p_l_m_d_1_1bias_1_1_bias.html" title="This is the abstract base class to use for implementing new simulation biases, within it there is inf...">PLMD::bias::Bias</a> respectively. To be clear these functions will ensure that generic keywords such as LABEL, NUMERICAL_DERIVATIVES or ARG are registered and explained in the manual. If your method requires the derivatives of some value and you have no way of implementing the analytical derivatives you should also call <a class="el" href="class_p_l_m_d_1_1_action_with_value.html#a37f8991d8bf2a0194adeae85df9084b5" title="Insist that numerical derivatives should always be used for an action and make this fact appear in th...">PLMD::ActionWithValue::noAnalyticalDerivatives</a>. This routine will ensure that plumed's numerical derivatives routines are used to calculation your derivatives automatically and will ensure that a message is put in the plumed manual so that other users are aware that numerical derivatives are being used.</p>
<p>Once you have called the reigsterKeywords routine for the <a class="el" href="class_p_l_m_d_1_1_action.html" title="Base class for all the input Actions. ">PLMD::Action</a> above yours in the hierachy you can begin to add the keywords for your new method. These keywords will have one of 5 attributes:</p>
<table  align="center" frame="void" width="95%%" cellpadding="5%%">
<tr>
<td width="5%%"><b> compulsory </b>  </td><td>These are the quantities that must be defined in order to perform your action   </td></tr>
<tr>
<td><b> optional </b>  </td><td>If there is some alternate way of performing your calculation that requires numerical input you should declare your keyword as optional   </td></tr>
<tr>
<td><b> flag </b>  </td><td>This is used to declare keywords such as NOPBC that tell plumed to turn on/off some feature of the calculation   </td></tr>
<tr>
<td><b> atoms </b>  </td><td>If you are reading a list of atoms after the keyword then you should use this keyword. You can easily specify if there are multiple ways of defining the atoms involved in the action in the manual. To register the keywords for this first method of specifying the atoms using atoms-1. Then register the keywords for the second way of specifying the atoms using atoms-2 and so on. A manual that states that these keywords can be used in an either or fashion, much that for <a href="../../user-doc/html/_t_o_r_s_i_o_n.html">TORSION </a>, will then be generated.   </td></tr>
<tr>
<td><b> numbered </b>  </td><td>If you need to read in a list of similar keywords such as keyword0, keyword1, keyword2... then you must use this option. These keywords will be assumed to be optional. However, you can set them to be atoms or whatever by using reset_style(keyword,newstyle).  </td></tr>
</table>
<p>All keywords (other than flags) are added using the add method of <a class="el" href="class_p_l_m_d_1_1_keywords.html" title="This class holds the keywords and their documentation. ">PLMD::Keywords</a>. This command has the following syntax:</p>
<pre class="fragment">keys.add( attribute, keyword, explanation );
</pre><p>where <em> attribute </em> is one of the options from the above table, <em> keyword </em> is the word that appears on the input line and <em> explanation </em> is an explantion of what the keyword does. If your keyword is compulsory it can also be added using:</p>
<pre class="fragment">keys.add( attribute, keyword, default, explanation );
</pre><p>where <em> default </em> is a string containing the default value to use for the quantity.</p>
<p>Flags are added using the add flag method, this has syntax:</p>
<pre class="fragment">keys.addFlag( keyword, default, explantion );   
</pre><p>where default is a bool that tells plumed if by default this option is/is not in use.</p>
<h1><a class="anchor" id="reading"></a>
Reading the input keywords</h1>
<p>Keywords are read in using either <a class="el" href="class_p_l_m_d_1_1_action.html#ae0c8ed07593b5e242e34b32e0edc3a12" title="Parse one keyword as generic type. ">PLMD::Action::parse</a>, <a class="el" href="class_p_l_m_d_1_1_action.html#a31b0be7c8476c86e53f3f784dec1a66f" title="Parse one keyword as std::vector. ">PLMD::Action::parseVector</a>, <a class="el" href="class_p_l_m_d_1_1_action.html#aab343ae578d05b8241c58daa40d3081e" title="Parse a vector with a number. ">PLMD::Action::parseNumberedVector</a> or <a class="el" href="class_p_l_m_d_1_1_action.html#a5540be9c95bc8bf9f1ec567c047afddb" title="Parse one keyword as boolean flag. ">PLMD::Action::parseFlag</a>. These routines will use the information provided during keyword registration to check the sanity of any input. For instance if you declare a compulsory keyword and do not specify a default value then the code will automatically complain if the particular keyword is missing from input. In addition, if the vector you pass to <a class="el" href="class_p_l_m_d_1_1_action.html#a31b0be7c8476c86e53f3f784dec1a66f" title="Parse one keyword as std::vector. ">PLMD::Action::parseVector</a> and <a class="el" href="class_p_l_m_d_1_1_action.html#aab343ae578d05b8241c58daa40d3081e" title="Parse a vector with a number. ">PLMD::Action::parseNumberedVector</a> has a size greater than 0 plumed will assume that the input should contain a vector of this size and will complain if it finds a different sized vector.</p>
<h1><a class="anchor" id="components"></a>
Registering components</h1>
<p>In plumed 2.1 we will also begin registering all the components that are calculated by your action. In plumed 2.2 registering components will become compulsory and your features will not work if this is not done. This registering of components means that in the registerKeywords method for commands such as:</p>
<pre class="fragment">d1: DISTANCE COMPONENTS
</pre><p>which calculates quantities that can be referenced in the input as d1.x, d1.y and d1.z, you will have to provide documentation for the manual that describes what information is stored in the x, y and z components. As an example for the distances components this documenation takes the following form:</p>
<pre class="fragment">keys.addOutputComponent("x","COMPONENTS","the x-component of the vector connecting the two atoms");
keys.addOutputComponent("y","COMPONENTS","the y-component of the vector connecting the two atoms");
keys.addOutputComponent("z","COMPONENTS","the z-component of the vector connecting the two atoms");
</pre><p>As you can see this new feature works in a similar manner to the feature by which the keywords are registered. Both these features serve to keep the manual up to date with only a relatively small amount of effort on the part of the developer.</p>
<p>All components registered by plumed should be added using a variant of the addOutputComponent method of <a class="el" href="class_p_l_m_d_1_1_keywords.html" title="This class holds the keywords and their documentation. ">PLMD::Keywords</a>. This command has the following syntax:</p>
<pre class="fragment">keys.addOutputComponent( name, keyword, explanation )
</pre><p>where <em> name </em> is the name the component will be given i.e. the quantity will be referencable in input as <em> label.name </em>. <em> keyword </em> is the name of any keyword that must be added to the input for the action in order to calculate this quantity and <em> explanation </em> is an explanation of the quantity that will appear in the manual.</p>
<p>If your Action always generates a particular set of components then the form of this command changes slightly. That is to say if it makes no sense to use reference the isolated label for your command then this command should read:</p>
<pre class="fragment">componentsAreNotOptional(keys);
keys.addOutputComponent( name, "default", explanation )
</pre><p>So for example in RESTRAINT, which always generates a component called bias and a component called force2, the components are registered using the following code:</p>
<pre class="fragment">componentsAreNotOptional(keys);
keys.addOutputComponent("bias","default","the instantaneous value of the bias potential");
keys.addOutputComponent("force2","default","the instantaneous value of the squared force due to this bias potential");
</pre><p>Lastly, if you have some method that takes in arguments and gives back one component per argument then these components should be labelled <em>argument-name</em>_<em>description</em>. The MOVINGRESTRAINT command below gives an example of how this is done in practise.</p>
<pre class="fragment">DISTANCE ATOMS=1,2 LABEL=d1
DISTANCE ATOMS=3,4 LABEL=d2
MOVINGRESTRAINT ARG=d1,d2 AT0=2,2 AT1=6,6 STEP0=0 STEP1=100 KAPPA=1
</pre><p>This command has components called d1_steer, d2_steer, d1_cntr and d2_cntr. These components describe the work done in moving the system along the d1 and d2 axis and the instantaneous positions of the harmonic potential on the d1 and d2 axis respectively.</p>
<p>The various components in MOVINGRESTRAINT are registered using:</p>
<pre class="fragment">componentsAreNotOptional(keys);
keys.addOutputComponent("bias","default","the instantaneous value of the bias potential");
keys.addOutputComponent("force2","default","the instantaneous value of the squared force due to this bias potential");
keys.addOutputComponent("_cntr","default","one or multiple instances of this quantity will be refereceable elsewhere in the input file. "
                                          "these quantities will named with  the arguments of the bias followed by "
                                          "the character string _cntr. These quantities give the instantaneous position "
                                          "of the center of the harmonic potential.");
keys.addOutputComponent("_work","default","one or multiple instances of this quantity will be refereceable elsewhere in the input file. "
                                          "These quantities will named with the arguments of the bias followed by "
                                          "the character string _work. These quantities tell the user how much work has "
                                          "been done by the potential in dragging the system along the various colvar axis.");
</pre><p>Appropriately labelled components can be created using the following command:</p>
<pre class="fragment">comp=getPntrToArgument(i)-&gt;getName()+"_cntr";
addComponent(comp); componentIsNotPeriodic(comp);
</pre><p>They can then be set by using something like:</p>
<pre class="fragment">getPntrToComponent(getPntrToArgument(i)-&gt;getName()+"_work")-&gt;set(val[i]);
</pre><h1><a class="anchor" id="reserved"></a>
Reserved Keywords</h1>
<p>To maintain some consistency for end users of the code certain keywords (e.g. ARG, PERIODIC) are reserved. The reserved keywords for <a class="el" href="class_p_l_m_d_1_1_colvar.html" title="This is the abstract base class to use for implementing new collective variables, within it there is ...">PLMD::Colvar</a>, <a class="el" href="class_p_l_m_d_1_1function_1_1_function.html" title="This is the abstract base class to use for implementing new CV function, within it there is informati...">PLMD::function::Function</a> and <a class="el" href="class_p_l_m_d_1_1bias_1_1_bias.html" title="This is the abstract base class to use for implementing new simulation biases, within it there is inf...">PLMD::bias::Bias</a> are explained inside the documentation for these actions. To use one of the registered keywords you shold insert the following command into the registerKeywords method of your new function.</p>
<pre class="fragment">keys.use( keyword );
</pre><p>where <em> keyword </em> is a string that tells the method which reserved keyword you wish to use. To be clear when you use a reserved keyword all the parsing and registering for it is looked after automatically. In addition, if new components are generated in the output of the action when the keyword is present the registering of those components is also looked after elsewhere. So, for example, if you do something like:</p>
<pre class="fragment">keys.use("MIN")
</pre><p>In a new <a class="el" href="class_p_l_m_d_1_1multicolvar_1_1_multi_colvar.html" title="This is the abstract base class to use for creating distributions of colvars and functions thereof...">PLMD::multicolvar::MultiColvar</a> then there is no need to add the command:</p>
<pre class="fragment">keys.addOutputComponent("min","MIN","the minimum value. This is calculated using the formula described in the description of the "
                                    "keyword so as to make it continuous.");
</pre><p>As this documentation will already have been created for you elsewhere in the code.</p>
<h1><a class="anchor" id="errors"></a>
Generating errors</h1>
<p>You may need to check for other mistakes in input. When you find these mistakes you can report them to users using <a class="el" href="class_p_l_m_d_1_1_action.html#a94c1c30fbc92747b8828aa6f1e3d207d" title="Crash calculation and print documentation. ">PLMD::Action::error</a>. This routine will output a description of how the input to your Action should appear. It takes as input a string that describes the particular nature of the error that the user has made.</p>
<h1><a class="anchor" id="manual"></a>
Creating the rest of the manual</h1>
<p>The remainder of the manual - the detailed description of your action and some examples of how the <a class="el" href="class_p_l_m_d_1_1_action.html" title="Base class for all the input Actions. ">PLMD::Action</a> can be used - is created from the comments at the top of the cpp file that contains the various subroutines that your <a class="el" href="class_p_l_m_d_1_1_action.html" title="Base class for all the input Actions. ">PLMD::Action</a> performs. This is converted to manual using Doxygen as this allows one to incorporate equations, bibliographic information and bits and pieces of HTML. At the start of the block of manual information the following lines should appear:</p>
<pre class="fragment">//+PLUMEDOC TYPE ACTIONNAME 
/*
</pre><p>ACTIONAME is the first word that appears on the input line - i.e. it is the command that a user would use in input in order to make use of your particular <a class="el" href="class_p_l_m_d_1_1_action.html" title="Base class for all the input Actions. ">PLMD::Action</a>. TYPE, meanwhile, tells Doxygen where in the manual the Docuementation should be placed. TYPE should be one of the following:</p>
<table  align="center" frame="void" width="95%%" cellpadding="5%%">
<tr>
<td width="5%%"><b> COLVAR </b>  </td><td>This is used if your <a class="el" href="class_p_l_m_d_1_1_action.html" title="Base class for all the input Actions. ">PLMD::Action</a> is the calculation of a CV   </td></tr>
<tr>
<td width="5%%"><b> DCOLVAR </b>  </td><td>This is used if your <a class="el" href="class_p_l_m_d_1_1_action.html" title="Base class for all the input Actions. ">PLMD::Action</a> is a colvar that measures the distance from a reference frame in some metric   </td></tr>
<tr>
<td width="5%%"><b> MCOLVAR </b>  </td><td>This is used if your <a class="el" href="class_p_l_m_d_1_1_action.html" title="Base class for all the input Actions. ">PLMD::Action</a> calculates some Function of a distribution of CVs. (Action inherits from <a class="el" href="class_p_l_m_d_1_1multicolvar_1_1_multi_colvar.html" title="This is the abstract base class to use for creating distributions of colvars and functions thereof...">PLMD::multicolvar::MultiColvar</a>)   </td></tr>
<tr>
<td width="5%%"><b> MCOLVARF </b>  </td><td>This is used if your <a class="el" href="class_p_l_m_d_1_1_action.html" title="Base class for all the input Actions. ">PLMD::Action</a> calculates a paricularly complicated function of a distribution of CVs. (Action inherits from <a class="el" href="class_p_l_m_d_1_1multicolvar_1_1_multi_colvar_function.html">PLMD::multicolvar::MultiColvarFunction</a>)   </td></tr>
<tr>
<td width="5%%"><b> FUNCTION </b>  </td><td>This is used if your <a class="el" href="class_p_l_m_d_1_1_action.html" title="Base class for all the input Actions. ">PLMD::Action</a> calculates some Function of a set of CVs   </td></tr>
<tr>
<td width="5%%"><b> VATOM </b>  </td><td>This is used if your <a class="el" href="class_p_l_m_d_1_1_action.html" title="Base class for all the input Actions. ">PLMD::Action</a> calculates the position of a new atom e.g. for COM   </td></tr>
<tr>
<td width="5%%"><b> ANALYSIS </b>  </td><td>This is used if your <a class="el" href="class_p_l_m_d_1_1_action.html" title="Base class for all the input Actions. ">PLMD::Action</a> does some analysis of the trajectory   </td></tr>
<tr>
<td width="5%%"><b> BIAS </b>  </td><td>This is used if your <a class="el" href="class_p_l_m_d_1_1_action.html" title="Base class for all the input Actions. ">PLMD::Action</a> is a bias that adds supplemental forces to the potential in order to enhance sampling   </td></tr>
<tr>
<td width="5%%"><b> TOPOLOGY </b>  </td><td><a class="el" href="class_p_l_m_d_1_1setup_1_1_mol_info.html" title="Provides the keyword MOLINFO  ">PLMD::setup::MolInfo</a> has documentation of this type. This command is used to provide information about the chemistry of the system under study. For MolInfo this is what constitute the backbone atoms of the protin, what the residues are etc.   </td></tr>
<tr>
<td width="5%%"><b> GENERIC </b>  </td><td>This should be used if you want to specify manually where in the manual your documentation should appear. If you feel this really is the correct way to incorporate your new feature please contact the core developers so as to discuss it.   </td></tr>
</table>
<p>Immediately after the start comment symbol you should place a single line that describes in a sentence or two what it is your <a class="el" href="class_p_l_m_d_1_1_action.html" title="Base class for all the input Actions. ">PLMD::Action</a> does. This information will appear beside the link to your more detailed manual page in the general pages of the user manual. The code will use everything up to the first blank line in input to create this brief description. You can then write a longer description of your <a class="el" href="class_p_l_m_d_1_1_action.html" title="Base class for all the input Actions. ">PLMD::Action</a> to appear at the start of its particular page in the manual. As described below this description can incorporate equations and bibliographic information.</p>
<h2><a class="anchor" id="Equations"></a>
Equations</h2>
<p>You can add formulae in latex using:</p>
<pre class="fragment">This is an inline equation \f$s=y+x\f$ but this is an equation:

\f[
r = \sqrt{ \mathbf{s}^T \mathbf{C}^{-1} \mathbf{s} }
\f]

And this is an equation array:

\f{eqnarray*}{
 f &amp;=&amp; \frac{1}{2} \\
 g &amp;=&amp; \frac{2}{3}
\f}
</pre><p>In the manual this will be translated into:</p>
<p>This is an inline equation \(s=y+x\) but this is an equation:</p>
<p class="formulaDsp">
\[ r = \sqrt{ \mathbf{s}^T \mathbf{C}^{-1} \mathbf{s} } \]
</p>
<p>And this is an equation array:</p>
<p class="formulaDsp">
\begin{eqnarray*} f &amp;=&amp; \frac{1}{2} \\ g &amp;=&amp; \frac{2}{3} \end{eqnarray*}
</p>
<h2><a class="anchor" id="Lists"></a>
Lists</h2>
<p>You can create lists of data using:</p>
<pre class="fragment">- First item in list
- Second item in list
</pre><p>which becomes:</p>
<ul>
<li>First item in list</li>
<li>Second item in list</li>
</ul>
<h2><a class="anchor" id="Formatting"></a>
Formatting</h2>
<p>You can create a new section in your documentation using:</p>
<pre class="fragment">\section manual Creating the rest of the manual
</pre><p>In fact I used this very command earlier in writing this page. I can therefore reference it here (<a class="el" href="using_doxygen.html#manual">Creating the rest of the manual</a>) by using:</p>
<pre class="fragment">\ref manual 
</pre><p>You can also reference external webpages by typing web addresses directly in the documentation.</p>
<h2><a class="anchor" id="Citations"></a>
Citations</h2>
<p>You can create citations using:</p>
<pre class="fragment">\cite bibtex-tag
</pre><p>This command uses an interface between Doxygen and bibtex to create bibliographic data. Inside the user-doc directory you will find a bibtex file called bibliography.bib that contains all the references that are included in the user documentation for plumed. To add your reference you should add bibliographic data for the article you want to cite in this file.</p>
<h2><a class="anchor" id="Examples"></a>
Examples</h2>
<p>Your manual entry <b>must</b> contain some examples as to how your <a class="el" href="class_p_l_m_d_1_1_action.html" title="Base class for all the input Actions. ">PLMD::Action</a>. These should be included as follows:</p>
<pre class="fragment">\par Example

The following input tells plumed to print the distance between atoms 3 and 5,
the distance between atoms 2 and 4 and the x component of the distance between atoms 2 and 4.
\verbatim
DISTANCE ATOMS=3,5             LABEL=d1
DISTANCE ATOMS=2,4 COMPONENTS  LABEL=d2
PRINT ARG=d1,d2,d2.x
\ endverbatim  /*** But with no space between the \ and the endverbatim
</pre><p>In the manual this will be converted to:</p>
<dl class="section user"><dt>Example</dt><dd></dd></dl>
<p>The following input tells plumed to print the distance between atoms 3 and 5, the distance between atoms 2 and 4 and the x component of the distance between atoms 2 and 4. </p><pre class="fragment">DISTANCE ATOMS=3,5             LABEL=d1
DISTANCE ATOMS=2,4 COMPONENTS  LABEL=d2
PRINT ARG=d1,d2,d2.x
</pre><p>Please be aware of the blank line between after the title of the paragraph. If this line is not present your manual will look ugly. Also be aware that your Examples section <b> must </b> be called Examples and not Example because of a perculiarity in the script that generates the manual.</p>
<h1><a class="anchor" id="tutorials"></a>
Writing how-to instructions</h1>
<p>On every page of the plumed user manaul there are three tabs: Main-page, Glossary and How-tos. Here we are going to describe how to go about writing something that will appear on the How-tos page. On that page you will find that there are two kinds of resources. The first set of resources are a set of links to shortist descriptions of how to particular things with plumed. The second set of resources are links to a set of external websites that we think might be of interest to users of plumed.</p>
<h2><a class="anchor" id="websites"></a>
Adding a link to your website</h2>
<p>If you have a website that you think it would be useful for us to link from the plumed How-tos page please send us a file that contains the following information in the following format:</p>
<pre class="fragment">link: http://en.wikipedia.org/wiki/Metadynamics

description: A wikipedia article on metadynamics
</pre><p>In case it isn't abundantly clear the line that starts "link:" contains the hyperlink to your page, while the second line (the one starting "description:") contains the description of the page that will appear beside the link on the how-tos page. If this file is placed in the user-doc/tutorials directory of the plumed source and if it is given a name that ends in .site then the link will appear on the how-tos page.</p>
<h2><a class="anchor" id="tute"></a>
Writing a how-to</h2>
<p>Lets say you now want to write a set of how-to instructions. You will first need to create an additional file in the user-doc/tutorials directory of the plumed source. Much like the rest of plumed manual this file is written in Doxygen so you should read the instructions about how to go about using <a class="el" href="using_doxygen.html#Equations">Equations</a>, <a class="el" href="using_doxygen.html#Lists">Lists</a>, <a class="el" href="using_doxygen.html#Formatting">Formatting</a>, <a class="el" href="using_doxygen.html#Citations">Citations</a> and <a class="el" href="using_doxygen.html#Examples">Examples</a>. You will also need to ensure that the text that you want to appear on the your page is contained between the special doxygen comment symbols as shown below:</p>
<pre class="fragment">This will not appear on the final how-to page.

/**
This will appear on the final how-to page.
*/

This will also not appear on the final how-to page.
</pre><p>To ensure that a link is created on the main How-tos page you need to include the following instructions after the closing doxygen comment as shown below:</p>
<pre class="fragment">/**
\page filename My explanation of something in plumed

Text of how-to page

*/
link: @subpage filename

description: The description of what is described on your page
</pre><p>For this particular example the above should be contained in a file inside the user-doc/tutorials directory called filename.txt. If the user comes to the How-tos page they will see a link with the text "My explanation of something in plumed," which they can click on to get to your page. Beside that link the description "The description of what is described on your page" will appear.</p>
<p>One final thing, if your How-to is a tutorial - that is to say if you have a set of exercises for users to work through - then it may be useful to provide them with some example files that they can download. This is possible you add the files to our repository and you can put a link to download them somewhere on your page. To keep things manageable there should only be one (or a few) tar-ball file per tutorial. As such if you need to provide users with multiple files please put them in a single directory. The script that build the documentation will make one or more tar-balls from there. please put them in a zipped tar ball. The simplest way is thus to add a directory in the user-doc/tutorials directory and ideally given a name so that it can be identified with your corresponding *.txt file. For example if the name of the tutorial is <code>mytute</code> you should make a directory named <code>user-doc/tutorials/mytute</code>. You can then download it by including the following into your *.txt file.</p>
<pre class="fragment">/**
\page mytute A tutorial that helps users learn to do something with plumed

Please download the following &lt;a href="tutorial-resources/mytute.tar.gz" download="mytute.tar.gz"&gt; file &lt;/a&gt;.

*/

link: @subpage mytute

description: A tutorial for users to work through

additional-files: mytute
</pre><p>In this case the tar ball you add is called mytute.tar.gz. The user can download this file by clicking on the word file.</p>
<h1><a class="anchor" id="updating-web-manuals"></a>
Updating web manuals</h1>
<p>Precompiled versions of PLUMED manuals can be found on github at an address such as <a href="http://plumed.github.io/doc-v2.1/user-doc/html/index.html">http://plumed.github.io/doc-v2.1/user-doc/html/index.html</a> (replace v2.1 with the actual version number). These manuals take advantage of a nice github feature: any branch named gh-pages is shown as a webpage. In this example, the repository is located at <a href="http://github.com/plumed/doc-v2.1">http://github.com/plumed/doc-v2.1</a> . Before version 2.1.1 it was necessary to upload the precompiled manual by hand. Since version 2.1.1, this is done from Travis CI automatically whenever a commit containing in its log the tag [makedoc] is pushed into the plumed2 github repository. Notice that Travis CI will try to push the manual on a repository named <a href="http://github.com/plumed/doc-NAMEOFTHEBRANCH">http://github.com/plumed/doc-NAMEOFTHEBRANCH</a> , so that this should work for all the future release branches as long as an appropriate repository is created on the github.com/plumed organization. We could even easily create repositories to host the documentation of temporary branches. Also notice that these repositories (plumed-doc-xxx) need to give write access to a dummy github account (PlumedBot). A token for that user enabling html access is stored in the environment variable GIT_TOKEN which is saved (not visible) on travis-ci.org. In this way, any commit made in the plumed repository by one of the developers will have access to the variable and will trigger (optionally, when [makedoc] is present) manual build and push. Conversely, pull requests by external users should not be able to access the token and won't update manual changes.</p>
<p>Bottom line: when you make a commit where you modified the manual and you want the online manual to be updated, add [makedoc] in the commit log. After ten minutes or so the manual should be up to date, remember to double check on the web and to revert the commit if there are errors! </p>
</div></div><!-- contents -->
<!-- HTML footer for doxygen 1.8.3.1-->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
<table align="center" frame="void" width="98%" cellpadding="2%">
<tr><td align="left" valign="center"> 
Hosted by GitHub &nbsp;
<a href="http://github.com"><img src="octocat.png" width="88" height="66"  alt="GitHub Logo" /></a>
<!--Generated by  &#160; --> <a href="http://www.doxygen.org/index.html">
</td><td width=90% align="right">
<img class="footer" src="doxygen.png" alt="doxygen" align="right"/>
</a> 1.8.7
</td> </tr> 
</table>
</small></address>
</body>
</html>
